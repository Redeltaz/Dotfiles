#!/bin/bash

GIT_URL=https://github.com/Redeltaz/dotfiles

DISTRO=$(cat /etc/*-release | grep NAME | head -n 1 | cut -d'"' -f2)
PYTHON_VERSION=$(python --version | cut -d " " -f2 | cut -d "." -f1)

if [ "$DISTRO" != "Arch Linux" ]; then
    echo "You are not on Arch Linux, some commands may not work as expected."
fi

if [[ "$PYTHON_VERSION" < 3 ]]; then
    echo "Please install at leat python3."
    exit 1
fi

#===========================================

set -e

cd ~

echo "Cloning git repo..."
git clone $GIT_URL ~/.dotfiles
echo "Git repo cloned !"

echo "Installing the CLI..."
cd ~/.dotfiles && python3 install.py

echo "The CLI is now installed, you can start using it !"
